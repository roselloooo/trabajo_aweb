<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finalizar Compra - F1 Shop</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* ESTILOS ESPEC√çFICOS PARA LA P√ÅGINA DE PAGO */
        /* (Puedes mover esto a tu styles.css si prefieres) */
        
        body { background-color: #f4f4f4; }

        .checkout-container {
            max-width: 1000px;
            margin: 40px auto;
            display: grid;
            grid-template-columns: 2fr 1fr; /* Izquierda grande, derecha peque√±a */
            gap: 30px;
            padding: 0 20px;
        }

        .checkout-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        h2 { border-bottom: 2px solid #eee; padding-bottom: 10px; margin-bottom: 20px; color: #333; }
        h3 { color: var(--f1-red, #e10600); margin-top: 0; }

        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 0.9rem; }
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        /* Estilo Tarjeta Cr√©dito */
        .card-icons { font-size: 2rem; color: #555; margin-bottom: 10px; }
        .card-icons i { margin-right: 10px; }

        /* Resumen derecho */
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .total-price {
            font-size: 1.5rem;
            color: #e10600; /* Rojo F1 */
            font-weight: bold;
        }

        .submit-btn {
            background-color: #e10600;
            color: white;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 5px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 20px;
        }
        .submit-btn:hover { background-color: #b30000; }

        /* Responsive para m√≥vil */
        @media (max-width: 768px) {
            .checkout-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <nav style="background: black; padding: 15px; text-align: center;">
        <a href="catalogo.html" style="color: white; text-decoration: none; font-weight: bold; font-size: 1.5rem;">
            F1 SHOP <span style="color: #e10600;">OFFICIAL</span>
        </a>
    </nav>

    <main class="checkout-container">
        
        <section class="checkout-section">
            <h2><i class="fas fa-truck"></i> Datos de Env√≠o</h2>
            <form id="payment-form">
                <div class="form-group">
                    <label>Nombre Completo</label>
                    <input type="text" placeholder="Ej: Fernando Alonso" required>
                </div>
                <div class="form-group">
                    <label>Direcci√≥n</label>
                    <input type="text" placeholder="Calle del Paddock, 33" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Ciudad</label>
                        <input type="text" placeholder="Madrid" required>
                    </div>
                    <div class="form-group">
                        <label>C√≥digo Postal</label>
                        <input type="text" placeholder="28001" required>
                    </div>
                </div>

                <h2 style="margin-top: 30px;"><i class="fas fa-credit-card"></i> Pago Seguro</h2>
                <div class="card-icons">
                    <i class="fab fa-cc-visa" style="color: navy;"></i>
                    <i class="fab fa-cc-mastercard" style="color: orangered;"></i>
                    <i class="fab fa-cc-amex" style="color: blue;"></i>
                </div>

                <div class="form-group">
                    <label>N√∫mero de Tarjeta</label>
                    <input type="text" placeholder="0000 0000 0000 0000" maxlength="19" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Caducidad (MM/YY)</label>
                        <input type="text" placeholder="12/26" maxlength="5" required>
                    </div>
                    <div class="form-group">
                        <label>CVV</label>
                        <input type="text" placeholder="123" maxlength="3" required>
                    </div>
                </div>
            </form>
        </section>

        <section class="checkout-section" style="height: fit-content;">
            <h3>Resumen del Pedido</h3>
            <p style="color: #666; font-size: 0.9rem;">Tus productos est√°n reservados durante 15 minutos.</p>
            
            <hr style="margin: 20px 0; border: 0; border-top: 1px solid #ddd;">

            <div class="summary-row">
                <span>Subtotal</span>
                <span id="subtotal-display">Cargando...</span>
            </div>
            
            <div class="summary-row">
                <span>Env√≠o</span>
                <span>5.00‚Ç¨</span> </div>
            
            <hr style="margin: 10px 0; border: 0; border-top: 1px solid #ddd;">
            
            <div class="summary-row total">
                <span>Total a Pagar:</span>
                <strong id="total-amount-display">Calculando...</strong>
            </div>

            <button type="button" id="confirm-payment-btn" class="submit-btn" onclick="simularPago()">
                Pagar Ahora
            </button>
            
            <p style="text-align: center; margin-top: 15px; font-size: 0.8rem; color: #888;">
                <i class="fas fa-lock"></i> Pago 100% Seguro y Encriptado
            </p>
        </section>

    </main>

    <script src="pago.js"></script>

    <script>
        function simularPago() {
            // Cogemos el bot√≥n
            const btn = document.getElementById('confirm-payment-btn');
            
            // Efecto de carga
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Procesando...';
            btn.style.backgroundColor = '#333';
            btn.disabled = true;

            // Esperamos 2 segundos y mostramos √©xito
            setTimeout(() => {
                alert("¬°PAGO REALIZADO CON √âXITO! üèÅ\n\nGracias por comprar en F1 Shop. Tu pedido llegar√° antes del pr√≥ximo Gran Premio.");
                
                // Borramos el carrito y volvemos al inicio
                localStorage.removeItem('f1Cart');
                localStorage.removeItem('f1TotalPagar');
                window.location.href = 'catalogo.html';
            }, 2000);
        }
    </script>
</body>
</html>